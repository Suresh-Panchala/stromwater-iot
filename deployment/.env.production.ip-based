# StromWater IoT Platform - Production Environment (IP-Based)
# For deployment WITHOUT domain name (HTTP only, no SSL)
# Copy this file to backend/.env on your Ubuntu VPS

# ================================
# SERVER CONFIGURATION
# ================================
NODE_ENV=production
PORT=5000

# ================================
# DATABASE CONFIGURATION
# ================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=stromwater_db
DB_USER=stromwater_user
DB_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD

# ================================
# JWT AUTHENTICATION
# ================================
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_RANDOM_STRING_MIN_32_CHARS
JWT_REFRESH_SECRET=CHANGE_THIS_TO_DIFFERENT_RANDOM_STRING_MIN_32_CHARS
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ================================
# MQTT BROKER CONFIGURATION
# ================================
MQTT_BROKER_URL=mqtt://localhost:1883
MQTT_USERNAME=stromwater
MQTT_PASSWORD=CHANGE_THIS_TO_YOUR_MQTT_PASSWORD

# ================================
# WEBSOCKET CONFIGURATION
# ================================
WS_PORT=5001

# ================================
# CORS CONFIGURATION (IP-Based)
# ================================
# Replace YOUR_VPS_IP with your actual IP address
CORS_ORIGIN=http://YOUR_VPS_IP
# Example: CORS_ORIGIN=http://123.45.67.89

# Or allow all origins (less secure, but easier for testing):
# CORS_ORIGIN=*

# ================================
# EMAIL NOTIFICATIONS (Optional)
# ================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-gmail-app-password
EMAIL_FROM=StromWater IoT <your-email@gmail.com>

# ================================
# TELEGRAM NOTIFICATIONS (Optional)
# ================================
TELEGRAM_BOT_TOKEN=your-telegram-bot-token-here
TELEGRAM_CHAT_ID=your-telegram-chat-id-here

# ================================
# LOGGING
# ================================
LOG_LEVEL=info

# ================================
# RATE LIMITING
# ================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ================================
# SECURITY
# ================================
HELMET_ENABLED=true
CSRF_ENABLED=false

# ================================
# DEPLOYMENT CHECKLIST
# ================================
# [ ] Replace YOUR_VPS_IP with actual IP address
# [ ] Change DB_PASSWORD to strong password
# [ ] Generate JWT_SECRET (openssl rand -base64 32)
# [ ] Generate JWT_REFRESH_SECRET (openssl rand -base64 32)
# [ ] Change MQTT_PASSWORD
# [ ] Update CORS_ORIGIN with your VPS IP
# [ ] Restart backend: pm2 restart stromwater-backend
